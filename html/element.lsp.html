<!DOCTYPE HTML PUBLIC "HTML 4.01 Transitional">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>element.lsp</title>

<link rel="stylesheet" type="text/css" href="newlispdoc.css" />
</head>

<body style="margin: 20px;" text="#111111" bgcolor="#FFFFFF" 
			link="#376590" vlink="#551A8B" alink="#ffAA28">
<blockquote>
<center><h1>element.lsp</h1></center>
<p><a href="index.html">Module index</a></p><a href="element.lsp.src.html">source</a>&nbsp;<br/>
<h2>Module:&nbsp;Element</h2><b>Author: </b>Jeff Ober <jeffober@gmail.com><br/>
<b>Version: </b>1.0<br/>
<b>Location: </b><a href="http://static.artfulcode.net/newlisp/element.lsp">http://static.artfulcode.net/newlisp/element.lsp</a><br/>
<b>package: </b>http://static.artfulcode.net/newlisp/element.qwerty<br/>
<p>A simple way of generating valid XML content (requires newlisp 10).</p>
 Often, XML modules attempt to provide everything but the kitchen sink when
 all that you <em>really</em> want is to write valid XML simply and quickly. Element
 is a purely practical module that lets you write XML fast and efficiently. It
 performs no validation and does nothing apart from serialize data to XML. If
 you need extra functionality like indentation or serialization of SXML, look
 at the XML module.
 <h4>Version history</h4>
 <b>1.0</b>
 &bull; initial release
 <h4>Bugs and todos</h4>
 &bull; XML declaration function with encoding



<br/><br/><center>&sect;</center><br/>
<a name="Element_encode"></a><h3><font color=#CC0000>Element:encode</font></h3>
<b>syntax: (<font color=#CC0000>Element:encode</font> <em>str</em>)</b><br/>
<b>parameter: </b><em>str</em> - a string<br/>
 <p>Encodes characters in a string to be valid for XML.</p>





<br/><br/><center>&sect;</center><br/>
<a name="Element_Element"></a><h3><font color=#CC0000>Element:Element</font></h3>
<b>syntax: (<font color=#CC0000>Element:Element</font> <em>str-tag</em> <em>attributes</em> [<em>str-content</em> ...])</b><br/>
<b>parameter: </b><em>str-tag</em> - the tag name<br/>
<b>parameter: </b><em>attributes</em> - an association list of key/value pairs, a string, or nil<br/>
<b>parameter: </b><em>str-content</em> - any number of strings<br/>
 <p>Builds an element tag with the name <em>str-tag</em> and attributes <em>attributes</em>
 around the content <em>str-content</em>, which generally is also built using this
 function. If <em>attributes</em> is an association list, it is converted to a series
 of key="value" pairs. If it is a string, it is inserted as-is. Otherwise, it
 is ignored. <em>str-content</em> may be strings generated by XmlBuilder:element or
 otherwise (in which case it is inserted as text content). Attribute values are
 encoded as needed (if an association list); <em>str-content</em> must be encoded if
 a text value.</p>
<b>example:</b><blockquote><pre> (Element "div" '(("class" "content"))
   (Element "h2" nil (Element:encode "Welcome"))
   (Element "p" {class="message"} (Element:encode "Hello world.")))
 
 =&gt; &lt;div class="content"&gt;&lt;h2&gt;Welcome&lt;/h2&gt;&lt;p class="message"&gt;Hello world.&lt;/p&gt;&lt;/div&gt;</pre></blockquote>
<br/><br/><center>&sect;</center><br/>
<a name="Element_doc"></a><h3><font color=#CC0000>Element:doc</font></h3>
<b>syntax: (<font color=#CC0000>Element:doc</font> <em>str-encoding</em> [<em>str-content</em> ...])</b><br/>
<b>parameter: </b><em>str-encoding</em> - encoding for XML declaration<br/>
<b>parameter: </b><em>str-content</em> - any number of strings<br/>
 <p>Adds an XML declaration to a string. If encoding is nil, defaults to UTF-8
 when newlisp is compiled with UTF-8 support, ASCII otherwise.</p>
<b>example:</b><blockquote><pre> (Element:doc "UTF-8" (Element "root" nil "Hello world."))
 =&gt;
 &lt;?xml version="1.0" encoding="UTF-8" ?&gt;
 &lt;root&gt;Hello world.&lt;/root&gt;</pre></blockquote>

<br/><br/><center>- &part; -</center><br/>
<center><font face='Arial' size='-2' color='#444444'>
generated with <a href="http://newlisp.org">newLISP</a>&nbsp;
and <a href="http://newlisp.org/newLISPdoc.html">newLISPdoc</a>
</font></center>
</blockquote>
</body>
</html>
