<!DOCTYPE HTML PUBLIC "HTML 4.01 Transitional">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>xmlrpc-server.lsp</title>

<link rel="stylesheet" type="text/css" href="newlispdoc.css" />
</head>

<body style="margin: 20px;" text="#111111" bgcolor="#FFFFFF" 
			link="#376590" vlink="#551A8B" alink="#ffAA28">
<blockquote>
<center><h1>xmlrpc-server.lsp</h1></center>
<p><a href="index.html">Module index</a></p><a href="xmlrpc-server.lsp.src.html">source</a>&nbsp;<br/>
<h2>Module:&nbsp;Xmlrpc-server</h2><b>Author: </b>Jeff Ober <jeffober@gmail.com><br/>
<b>Version: </b>1.1<br/>
<b>Location: </b><a href="http://static.artfulcode.net/newlisp/xmlrpc-server.lsp">http://static.artfulcode.net/newlisp/xmlrpc-server.lsp</a><br/>
<b>package: </b>http://static.artfulcode.net/newlisp/xmlrpc-server.qwerty<br/>
<p>A simple XML-RPC server (updated for newlisp 10).</p>
 Xmlrpc-server implements a basic XML-RPC server. It requires the element,
 http, sockets, and util modules, and newlisp 10.
<br/><br/>
 Xmlrpc-server is able to convert data between xmlrpc and newLISP. Any uncaught
 errors that occur during the loading of a response are handled by returning a fault
 response. Fault codes are gleaned from
 <a href="http://xmlrpc-epi.sourceforge.net/specs/rfc.fault_codes.php">Dan&nbsp;Libby's&nbsp;specifications.</a> <br/><br/>
 The server is used by registering <em>handler</em> functions that handle requests to
 a specific path. Only one introspection function, <em>system.listMethods</em>, is included.
<br/><br/>
 <h4>Version history</h4>
 <b>1.1</b>
 &bull; updated for newlisp 10
 &bull; updated to use element module for faster xml serialization
<br/><br/>
 <b>1.0</b>
 &bull; initial release
<br/><br/>
<b>example:</b><blockquote><pre> (load "xmlrpc-server.lsp")
 
 (define (get-time)
   (date (date-value)))
 
 (Xmlrpc-server:add-to-registry "myapp.getTime" get-time)
 (Xmlrpc-server:run-server 8080 "/RPC2")</pre></blockquote>
<br/><br/><center>&sect;</center><br/>
<a name="Xmlrpc-server_add-to-registry"></a><h3><font color=#CC0000>Xmlrpc-server:add-to-registry</font></h3>
<b>syntax: (<font color=#CC0000>Xmlrpc-server:add-to-registry</font> <em>str-path</em> <em>lambda-func</em>)</b><br/>
<b>parameter: </b><em>str-path</em> - the path which will respond to the passed function<br/>
<b>parameter: </b><em>lambda-func</em> - the function which will be applied to requests on <em>str-path</em><br/>
 <p>Registers a function to respond when requests are sent to <em>str-path</em>. The function
 will be passed a lisp representation of the XML-RPC request.</p>





<br/><br/><center>&sect;</center><br/>
<a name="Xmlrpc-server_run-server"></a><h3><font color=#CC0000>Xmlrpc-server:run-server</font></h3>
<b>syntax: (<font color=#CC0000>Xmlrpc-server:run-server</font> [<em>int-port</em> [<em>str-path</em>]])</b><br/>
<b>parameter: </b><em>int-port</em> - port on which to listen; defaults to 8080<br/>
<b>parameter: </b><em>str-path</em> - path on which to response; defaults to "/RPC2"<br/>
 <p>Initializes and starts server. Server will block if-not started in a
 child process.</p>





<br/><br/><center>- &part; -</center><br/>
<center><font face='Arial' size='-2' color='#444444'>
generated with <a href="http://newlisp.org">newLISP</a>&nbsp;
and <a href="http://newlisp.org/newLISPdoc.html">newLISPdoc</a>
</font></center>
</blockquote>
</body>
</html>
