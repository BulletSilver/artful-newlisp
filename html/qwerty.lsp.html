<!DOCTYPE HTML PUBLIC "HTML 4.01 Transitional">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>qwerty.lsp</title>

<link rel="stylesheet" type="text/css" href="newlispdoc.css" />
</head>

<body style="margin: 20px;" text="#111111" bgcolor="#FFFFFF" 
			link="#376590" vlink="#551A8B" alink="#ffAA28">
<blockquote>
<center><h1>qwerty.lsp</h1></center>
<p><a href="index.html">Module index</a></p><a href="qwerty.lsp.src.html">source</a>&nbsp;<br/>
<h2>Module:&nbsp;qwerty</h2><b>Author: </b>Jeff Ober <jeffober@gmail.com><br/>
<b>Version: </b>1.0<br/>
<b>Location: </b><a href="http://static.artfulcode.net/newlisp/qwerty.lsp">http://static.artfulcode.net/newlisp/qwerty.lsp</a><br/>
<p>Provides a dependency-managing library loading mechanism (requires newlisp 10)</p>
 <p>This module replaces nlmod, providing a simple mechanism for package
 dependencies. qwerty supports packages with multiple files and directories.</p>
 <p>All Artful Code modules (apart from qwerty itself, which must be loaded
 manually) have a .qwerty package definition.</p>
 <p>The provided macro, <em>define-package</em>, is used to register a package with
 qwerty. This should be saved in a file named <em>module-name</em>.qwerty, located in
 a directory in the list of registry paths (<em>qwerty:registry-path</em>).</p>
 <p>A package must be located in one of the <em>qwerty:module-path</em> directories.
 If the package was defined without any files, qwerty assumes that the file's
 name is the same as the module's (e.g., <em>my-module</em>.lsp).</p>
 <h4>Version history</h4>
 <b>1.0</b>
 &bull; initial release
<br/><br/>
<b>example:</b><blockquote><pre> (load "/path/to/qwerty.lsp")
 
 ; Load Artful Code libraries for a CGI application
 (push "/path/to/artfulcode/modules" qwerty:module-path)
 (push "/path/to/artfulcode/registry" qwerty:registry-path)
 (qwerty:load-package "request" "response" "element" "mysql")</pre></blockquote>
<br/><br/><center>&sect;</center><br/>
<a name="qwerty_load-package"></a><h3><font color=#CC0000>qwerty:load-package</font></h3>
<b>syntax: (<font color=#CC0000>qwerty:load-package</font> <em>pkg-name</em> [<em>pkg-name-2</em> ...])</b><br/>
<b>parameter: </b><em>pkg-name</em> - one or more package names to load<br/>
 <p>Loads a package and its dependencies.  Throws an error if <em>pkg-name</em>, its
 component files, or any of its dependencies fail to load.</p>


<br/><br/><center>&sect;</center><br/>
<a name="_define-package"></a><h3><font color=#CC0000>define-package</font></h3>
<b>syntax: (<font color=#CC0000>define-package</font> <em>pkg-name</em> (files <em>file-1</em> <em>file-2</em> ...) (depends <em>dep-1</em> <em>dep-2</em> ...))</b><br/>
<b>parameter: </b><em>files</em> - a list of files that make up the package<br/>
<b>parameter: </b><em>depends</em> - a list of packages on which this package depends<br/>
 <p>Defines a new package. The package will be named <em>pkg-name</em>. If a list of
 files is not provided, it is assumed that the package contains only one file
 that is named <em>pkg-name</em>.lsp. Otherwise, a list of file names may be provided
 that are assumed to be in the same directory (the first found in the path).</p>
 <p>The files may be preceded by a sub-path, e.g. (files "/foo-package/foo1.lsp"
 "foo-package/foo2.lsp" "foo-package/sub-package/bar.lsp"), to permit an
 arbitrarly deeply structured package. Files are listed in the order in which
 they should be loaded.</p>
 <p>Dependencies for the package are listed similarly, as a list beginning with
 the symbol 'depends. Both component files and dependencies are optional. File
 extensions are left off names in both lists.</p>
<b>example:</b><blockquote><pre> (define-package "my-app"
    (files "my-app/lib" "my-app/macros" "my-app/main")
    (depends "cgi" "crypto"))</pre></blockquote>

<br/><br/><center>- &part; -</center><br/>
<center><font face='Arial' size='-2' color='#444444'>
generated with <a href="http://newlisp.org">newLISP</a>&nbsp;
and <a href="http://newlisp.org/newLISPdoc.html">newLISPdoc</a>
</font></center>
</blockquote>
</body>
</html>
